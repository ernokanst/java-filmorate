CREATE TABLE IF NOT EXISTS films (
film_id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
name VARCHAR(50) NOT NULL,
description TEXT,
releaseDate TIMESTAMP,
duration INTEGER,
mpa INTEGER);

CREATE TABLE IF NOT EXISTS users (
user_id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
login varchar(50) NOT NULL,
name varchar(50),
birthday TIMESTAMP);

CREATE TABLE IF NOT EXISTS likes (
film_id INTEGER NOT NULL,
user_id INTEGER NOT NULL,
FOREIGN KEY (film_id) REFERENCES films(film_id),
FOREIGN KEY (user_id) REFERENCES users(user_id));

CREATE TABLE IF NOT EXISTS genres (
genre_id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
name VARCHAR(20) NOT NULL);

CREATE TABLE IF NOT EXISTS film_genres (
film_id INTEGER NOT NULL,
genre_id INTEGER NOT NULL);

CREATE TABLE IF NOT EXISTS friendships (
user1 INTEGER NOT NULL,
user2 INTEGER NOT NULL,
confirmed BOOLEAN NOT NULL,
FOREIGN KEY (user1) REFERENCES users(user_id),
FOREIGN KEY (user2) REFERENCES users(user_id));